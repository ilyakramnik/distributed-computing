## rwlock_init(rwlock_t* rw)
* pthread_mutex_init: Инициализирует мьютекс, который будет использоваться для защиты общего состояния блокировки.
* pthread_cond_init: Инициализирует условные переменные для читателей и писателей, которые будут использоваться для управления потоками, ожидающими доступа к ресурсу.

## rwlock_destroy(rwlock_t* rw)
* pthread_mutex_destroy: Уничтожает мьютекс, освобождая связанные с ним ресурсы.
* pthread_cond_destroy: Уничтожает условные переменные для читателей и писателей, освобождая связанные с ними ресурсы.

## rwlock_rdlock(rwlock_t* rw)
* pthread_mutex_lock: Захватывает мьютекс для обеспечения взаимного исключения.
* Увеличивает счетчик waiting_readers, чтобы отслеживать количество ожидающих читателей.
* Цикл while: Проверяет, есть ли писатель, который уже работает (writer_present равно 1), или есть ожидающие писатели (waiting_writers больше 0). Если так, то поток ожидает, пока не освободится блокировка.
* Уменьшает waiting_readers и увеличивает reader_count, так как читатель теперь имеет доступ к данным.
* pthread_mutex_unlock: Освобождает мьютекс, позволяя другим потокам захватывать его.

## rwlock_wrlock(rwlock_t* rw)
* pthread_mutex_lock: Захватывает мьютекс для обеспечения взаимного исключения.
* Увеличивает счетчик waiting_writers, чтобы отслеживать количество ожидающих писателей.
* Уменьшает waiting_writers и устанавливает writer_present в 1, указывая, что писатель теперь имеет доступ к данным.

## rwlock_unlock(rwlock_t* rw)
* pthread_mutex_lock: Захватывает мьютекс для обеспечения взаимного исключения.
* Проверяет, работает ли писатель
* Условная переменная: Если есть ожидающие писатели, срабатывает pthread_cond_signal, чтобы разблокировать один из них. Если ожидающие читатели, срабатывает pthread_cond_broadcast, чтобы разблокировать всех их.


# Анализ

Основываясь на замерах, собственная реализация оказалась в некоторых случаях сравнимой с библиотечной, при количестве операций 10000, количестве потоков менее 50, проценте вставок 25% заметно медленнее, чем библиотечная реализация.
